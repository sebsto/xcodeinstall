# https://stackoverflow.com/questions/40434367/how-do-i-create-homebrew-bottle-for-old-version-on-a-new-macos-version

# https://github.com/mas-cli/mas
# https://github.com/RobotsAndPencils/xcodes

# on M1
brew install --build-bottle xcodeinstall 

brew bottle xcodeinstall
==> Determining sebsto/macos/xcodeinstall bottle rebuild...
==> Bottling xcodeinstall--0.2.arm64_monterey.bottle.1.tar.gz...
==> Detecting if xcodeinstall--0.2.arm64_monterey.bottle.1.tar.gz is relocatable...
./xcodeinstall--0.2.arm64_monterey.bottle.1.tar.gz
  bottle do
    rebuild 1
    sha256 cellar: :any, arm64_monterey: "6bd445f5d9b0bef334494487fec334502fac6023b3e012f4dfe6ffafa82ff550"
  end

 # on x86
 ec2-user@ip-172-31-39-175 ~ % brew install --build-bottle xcodeinstall 

==> Downloading https://github.com/sebsto/xcodeinstall/archive/refs/tags/v0.2.tar.gz
==> Downloading from https://codeload.github.com/sebsto/xcodeinstall/tar.gz/refs/tags/v0.2
                   -=O=- #     #     #     #                                  
==> Installing xcodeinstall from sebsto/macos
==> Not running 'post_install' as we're building a bottle
You can run it manually using:
  brew postinstall sebsto/macos/xcodeinstall
ðŸº  /usr/local/Cellar/xcodeinstall/0.2: 8 files, 25.6MB, built in 4 seconds
==> Running `brew cleanup xcodeinstall`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
ec2-user@ip-172-31-39-175 ~ % brew bottle xcodeinstall
Warning: bottle is a developer command, so
Homebrew's developer mode has been automatically turned on.
To turn developer mode off, run brew developer off

==> Determining sebsto/macos/xcodeinstall bottle rebuild...
==> Bottling xcodeinstall--0.2.monterey.bottle.1.tar.gz...
==> Detecting if xcodeinstall--0.2.monterey.bottle.1.tar.gz is relocatable...
./xcodeinstall--0.2.monterey.bottle.1.tar.gz
  bottle do
    rebuild 1
    sha256 cellar: :any, monterey: "595f364d652858f2ad9862b4ce6f44af35076b8f67ba1a5456350192a33a03ce"
  end

